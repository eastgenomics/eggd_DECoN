<!-- dx-header -->
# DeCON (DNAnexus Platform App)

Dx wrapper to run the DeCON CNV caller

This is the source code for an app that runs on the DNAnexus Platform.
For more information about how to run or modify it, see
https://documentation.dnanexus.com/.

<!-- Insert a description of your app here -->
## What does this app do?
Calls copy number variants (CNV) for a list of bam files based on variation in read depth.

## What are typical use cases for this app?
This app may be executed as a standalone app or as part of an analysis pipeline

## What data are required for this app to run?
This app requires
* txt of the list of sample.bam names (expected to also have sample.bai files in the directory as well)
*  argeted 1-based BED file, orted in chromosome order, no header but tab-separated columns for chrom→start→end→gene 
* reference genome FASTA file
* exon numbering tsv file for annotation (optional)
* True/false whether custom annotation is provided and custom reports should be generated (defaults to false)
* output prefix (eg. run name/date or etc)


Values to filter out low quality calls, calculate coverage and call variants:
* minimum correlation threshold (default 0.98)
* minimum coverage threshold (default 100x)
* transition probability in HMM (default 0.01)

## What does this app output?
* sample coverage .RData file listing all samples and coverage values
* _Failures.txt: list of samples below quality thresholds
* summary.RData containing the FPKM for each sample and exon, all CNV calls, and quality control information
* CNV calls.txt a tsv file detailing exon CNV calls

## Dependencies
The app includes dependencies for and the executable DeCON R scripts.

The tool requires R version 3.1.2.
Building packages from source  requires gcc (part of build-essential) and gfortran compilers.

### This app was made by East GLH
<!--
TODO: This app directory was automatically generated by dx-app-wizard;
please edit this Readme.md file to include essential documentation about
your app that would be helpful to users. (Also see the
Readme.developer.md.) Once you're done, you can remove these TODO
comments.

For more info, see https://documentation.dnanexus.com/developer.
-->
